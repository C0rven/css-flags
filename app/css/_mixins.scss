/* MIXINS */

/**
 * Star and crescent : ☪
 * ★☆☨☬☭☽☾♢♦⚙⚜⚫⚪
 **/

/**
 * Centered symbol on plain flag
 **/
@mixin symbol-central-plain($background, $symbol, $symbol-color) {
  background:$background;
  &:after {
    content: $symbol;
    font-family: Symbols;
    position:absolute;
    top:0;
    left:0;
    display:block;
    width:$flagWidth;
    height:$flagHeight;
    text-align:center;
    line-height:$flagHeight;
    font-size:5em;
    color:$symbol-color;
  }
}

/**
 * Creating a crescent by overlapping two circles, like an eclipse.
 * This will use both :before and :after and will center them by default
 * Use transform: translateX() to move it around if you do not need it in the
 * center.
 *
 * 1. Position :before vertically and horizontally centered
 * 2. Position :after the same, but slightly more on the right
 * 3. Center :after content, just in case
 **/
@mixin crescent($outer-width, $inner-width, $color, $background) {
  &:before, &:after {
    content:"";
    display:block;
    position:absolute;
    top: 50%;
    left: 50%;
    border-radius:100%;
  }
  // Background circle, used as the crescent
  &:before {
    background:$color;
    width:$outer-width; /* 1 */
    height:$outer-width; /* 1 */
    margin-top:(-$outer-width / 2); /* 1 */
    margin-left:(-$outer-width / 2); /* 1 */
  }
  // Foregroup circle, used to to the eclipse
  &:after {
    background: $background;
    width: $inner-width; /* 2 */
    height:$inner-width; /* 2 */
    margin-top: (-$inner-width / 2); /* 2 */
    margin-left: ($outer-width - 2 * $inner-width) / 2 + 2; /* 2 */
    text-align: center; /* 3 */
    line-height: $inner-width; /* 3 */
  }
}

/**
 * Three equal vertical stripes.
 * Done with a background color for the central stripe and two large right and
 * left borders for the other stripes
 **/
@mixin stripes-vertical-three($color1, $color2, $color3) {
  border-left:$columnThird solid $color1;
  background:$color2;
  border-right: $columnThird solid $color3;
}
/**
 * Symbol centered in the middle column.
 * 
 * Just centering it vertically and horizontally
 **/
@mixin symbol-central-column($symbol, $color) {
    content:$symbol;
    color:$color;
    font-size:4em;
    display:block;
    height:$flagHeight;
    line-height:$flagHeight;
    width:$columnThird;
    text-align:center;
}
/**
 * Three equal horizontal stripes.
 * Done with a background for the middle one and large borders for the top and
 * bottom one.
 **/
@mixin stripes-horizontal-three($color1, $color2, $color3) {
  border-top:$lineThird solid $color1;
  background:$color2;
  border-bottom: $lineThird solid $color3;
}
/**
 * Centered symbol on the middle line
 **/
@mixin symbol-central-line($symbol, $color) {
    content:$symbol;
    color:$color;
    font-size:4em;
    display:block;
    height:$lineThird;
    line-height:$lineThird;
    text-align:center;
}

/**
 * Nordic cross, like Sweden, Norway or Finland.
 *
 * 1. Three horizontal stripes
 * 2. Vertical bar for the cross
 **/
@mixin nordic-cross($background-color, $cross-color) {
  $x: $flagWidth / 7;
  $y: $flagHeight / 5;

  background:$cross-color; /* 1 */
  border-top: (2 * $y) solid $background-color; /* 1 */
  border-bottom:(2 * $y) solid $background-color; /* 1 */
  &:before {
    content:"";
    position:absolute;
    display:block;
    background:$cross-color; /* 2 */
    width: $y; /* 2 */
    height:$flagHeight; /* 2 */
    top: -(2 * $y); /* 2 */
    left: (2 * $x); /* 2 */
  }
}
/**
 * Nordic cross with borders.
 *
 * We set a background color and will the define the cross by positioning
 * 4 squares in the 4 angles, each composed of a filled box-shadow and 3 border
 * box-shadow.
 **/
@mixin nordic-cross-border($background-color, $cross-color, $border-color) {
  $x: $flagWidth / 22;
  background:$cross-color;
  overflow:hidden;
  &:before {
    content:"";
    position:absolute;
    top:0;
    right:0;
    width:(12 * $x);
    height:(6 * $x);
    background:$background-color;
    box-shadow:0px $x 0px $border-color,  /* Bottom */
               -$x 0px 0px $border-color, /* Left */
               -$x $x 0px $border-color, /* Bottom-left corner */

               /* Bottom right */
               0px (10 * $x) 0px $background-color, /* Background */
               0px (9 * $x) 0px $border-color, /* Top */
               -$x (10 * $x) 0px $border-color, /* Left */
               -$x (9 * $x) 0px $border-color, /* Top-left corner */

               /* Top left */
               (-16 * $x) 0px 0px $background-color, /* Background */
               (-16 * $x) $x 0px $border-color, /* Bottom */
               (-15 * $x) 0px 0px $border-color, /* Right */
               (-15 * $x) $x 0px $border-color, /* Bottom-right corner */

               /* Bottom left */
               (-16 * $x) (10 * $x) 0px $background-color, /* Background */
               (-16 * $x) (9 * $x) 0px $border-color, /* Top */
               (-15 * $x) (10 * $x) 0px $border-color, /* Right */
               (-15 * $x) (9 * $x) 0px $border-color; /* Top-right corner */
  }
}

/**
 * Saltire. Cross coming from the angle and separating the flag in 4 parts.
 * eg. Jamaica.
 *
 * The :after and :before element are used to do the triangles by using the
 * transparent border technique while the cross itself is only the div
 * background color.
 *
 * Note: We use dotted borders instead of solid because the alias less.
 *
 * 1. Width of the cross, used as reference
 * 2. Keep enough space in the center for 1 full cross width vertically
 * 3. Keep enough space in the center for 2 full cross width horizontally
 * 4. Background is the cross.
 * 5. Top triangle
 * 6. Right triangle
 * 7. Bottom triangle
 * 8. Left triangle
 * 9. Move triangle slightly so the do not start in the angles
 */
@mixin saltire($cross-color, $top-color, $right-color, $bottom-color, $left-color) {
  $saltire-width:20px; /* 1 */
  $top-height:($flagHeight - $saltire-width) / 2; /* 2 */
  $side-width:($flagWidth - 2 * $saltire-width) / 2; /* 3 */
  background:$cross-color; /* 4 */
  &:before, &:after {
    content:"";
    position:absolute;
    display:block;
  }
  // Top and bottom
  &:before {
    top:0; /* 9 */
    left:$saltire-width; /* 9 */
    height: $saltire-width; /* 2 */
    border-top:$top-height dotted $top-color; /* 5 */
    border-bottom:$top-height dotted $bottom-color; /* 7 */
    border-left: $side-width solid transparent;
    border-right:$side-width solid transparent;
  }
  // Right and left
  &:after {
    top:($saltire-width / 2); /* 9 */
    left:0px; /* 9 */
    width:(2 * $saltire-width); /* 3 */
    border-top:$top-height solid transparent;
    border-bottom:$top-height solid transparent;
    border-right:$side-width dotted $right-color; /* 6 */
    border-left: $side-width dotted $left-color; /* 8 */
  }
}


